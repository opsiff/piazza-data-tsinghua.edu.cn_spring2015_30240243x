{"aid": "igkpw01969k2np", "error": null, "result": {"default_anonymity": "no", "status": "active", "i_edits": [], "q_edits": [], "bookmarked": 3, "request_instructor": 0, "history": [{"uid": "i74g3aomM8b", "anon": "no", "created": "2015-05-11T01:14:44Z", "content": "<p>要在do_pgfault换入页面之后的421行swap_map_swappable后面要加入page-&gt;pra_vaddr = addr来更新页面对应的虚拟地址</p>\n<p>不然的话在_fifo_check_swap的最后加入如下语句便会报错&#xff1a;</p>\n<p>    cprintf(&#34;write Virt Page e in fifo_check_swap\\n&#34;);<br />    *(unsigned char *)0x5000 = 0x0e;<br />    assert(pgfault_num==10);<br />    cprintf(&#34;write Virt Page a in fifo_check_swap\\n&#34;);<br />    assert(*(unsigned char *)0x1000 == 0x0a);<br />    *(unsigned char *)0x1000 = 0x0a;<br />    assert(pgfault_num==11);<br /><br /></p>", "subject": "lab3_result中kern/mm/vmm.c的一个bug"}, {"uid": "i74g3aomM8b", "anon": "no", "created": "2015-05-09T16:20:08Z", "content": "<p>要在do_pgfault换入页面之后的421行swap_map_swappable后面要加入page-&gt;pra_vaddr = addr来更新页面对应的虚拟地址</p>\n<p>不然的话在_fifo_check_swap的最后加入如下语句便会报错&#xff1a;</p>\n<p>    cprintf(&#34;write Virt Page e in fifo_check_swap\\n&#34;);<br />    *(unsigned char *)0x5000 = 0x0e;<br />    assert(pgfault_num==10);<br />    cprintf(&#34;write Virt Page a in fifo_check_swap\\n&#34;);<br />    assert(*(unsigned char *)0x1000 == 0x0a);<br />    *(unsigned char *)0x1000 = 0x0a;<br />    assert(pgfault_num==11);<br /><br /></p>", "subject": "lab3_result中kern/mm/vmm.c的一个bug"}], "s_edits": [], "tag_good_arr": [], "is_bookmarked": false, "my_favorite": false, "t": 1446636278060, "children": [{"uid": "i6ucxgbeel362h", "no_answer": 0, "created": "2015-05-10T16:42:44Z", "id": "i9iovghcy0y7oi", "updated": "2015-05-10T16:42:44Z", "subject": "<p>报什么错&#xff1f;另外0x1000为什么先assert后赋值</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 3, "bucket_name": "Yesterday", "no_upvotes": 0, "d-bucket": "Yesterday", "children": [{"uid": "i74g3aomM8b", "created": "2015-05-11T01:14:02Z", "id": "i9j74zmaef438l", "updated": "2015-05-11T01:14:02Z", "subject": "<p>本来确实是不报错的&#xff0c;但那是因为检测不严格&#xff0c;加入上面的检测代码后便会报错&#xff0c;错误出在assert(*(unsigned char *)0x1000 == 0x0a);</p>\n<p>主要问题是之前没有将pra_vaddr设置好&#xff0c;换出的时候不能将其值存在正确地方&#xff0c;导致换出的时候得到的结果不对</p>\n<p>之前的测试只是测试能不能对内存中不存在的页进行写操作&#xff0c;没有测试换出再换入之后的值还是不是原来的值</p>\n<p>其实把这个判断去掉依然会报错&#xff0c;不过加上这个判断更清楚一些</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 2, "bucket_name": "Today", "children": [], "type": "feedback"}], "type": "followup"}], "type": "note", "unique_views": 58, "created": "2015-05-09T16:20:08Z", "id": "i9h8mjnacz67oc", "tags": ["lab3", "student"], "nr": 408, "data": {"embed_links": []}, "upvote_ids": [], "is_tag_good": false, "config": {}, "folders": ["lab3"], "bucket_order": 2, "change_log": [{"uid": "i74g3aomM8b", "when": "2015-05-09T16:20:08Z", "data": "i9h8mjncusd7od", "anon": "no", "type": "create"}, {"uid": "i6ucxgbeel362h", "when": "2015-05-10T16:42:44Z", "to": "i9h8mjnacz67oc", "anon": "no", "type": "followup"}, {"uid": "i74g3aomM8b", "when": "2015-05-11T01:14:02Z", "to": "i9h8mjnacz67oc", "anon": "no", "type": "feedback"}, {"uid": "i74g3aomM8b", "when": "2015-05-11T01:14:44Z", "data": "i9j75w0gg352re", "anon": "no", "type": "update"}], "bucket_name": "Today", "request_instructor_me": false, "no_answer_followup": 0, "num_favorites": 0, "tag_good": []}}