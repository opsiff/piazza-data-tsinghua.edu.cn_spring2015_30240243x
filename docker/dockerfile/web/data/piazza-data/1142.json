{"aid": "jef9rgv28e65m8", "result": {"status": "active", "unique_views": 18, "request_instructor_me": false, "change_log": [{"type": "create", "anon": "no", "when": "2018-03-06T01:36:39Z", "data": "jeezhhixblp1z2", "uid": "isvxeq6bspf1vn"}, {"to": "jeezhhivg1p1z1", "anon": "no", "when": "2018-03-06T02:45:05Z", "type": "followup", "uid": "isu0wqaoff5125"}, {"type": "update", "anon": "no", "when": "2018-03-06T02:46:24Z", "data": "jef1z6nm8qi1pv", "uid": "isu0wqaoff5125"}, {"uid": "im0vq5pac4t1xa", "type": "s_answer", "when": "2018-03-06T05:30:52Z", "to": "jeezhhivg1p1z1", "anon": "no", "data": "jef7uoofrk27li"}], "upvote_ids": [], "id": "jeezhhivg1p1z1", "bookmarked": 3, "no_answer": 0, "i_edits": [], "is_bookmarked": false, "children": [{"folders": [], "updated": "2018-03-06T02:45:05Z", "no_upvotes": 0, "uid": "isu0wqaoff5125", "created": "2018-03-06T02:45:05Z", "type": "followup", "no_answer": 1, "id": "jef1xi4vmpzl7", "anon": "no", "bucket_name": "Today", "config": {}, "bucket_order": 2, "data": null, "children": [], "subject": "<p>安全性角度&#xff0c;由于系统调用在内核态实现&#xff0c;我觉得不一定比函数调用安全。</p>\n<p></p>\n<p>“更新页面映射权限&#xff0c;设置内核态独立地址空间&#xff08;如TLB等&#xff09;等” 如果没有实现KPTI的话应该没有这个开销。</p>\n<p></p>\n<p>空间角度说的应该是动态链接共享库&#xff0c;和系统调用关系不大。</p>"}, {"folders": [], "is_tag_endorse": false, "created": "2018-03-06T05:30:52Z", "type": "s_answer", "tag_endorse_arr": ["isu0wqaoff5125"], "id": "jef7uoocpz47lh", "bucket_name": "Today", "config": {}, "tag_endorse": [{"name": "Wende Tan", "admin": false, "photo": null, "endorser": {}, "facebook_id": null, "us": false, "email": "twd15@mails.tsinghua.edu.cn", "class_sections": ["os2018spring_i5j09fnsl7k5x0"], "role": "student", "published": true, "id": "isu0wqaoff5125"}], "bucket_order": 2, "data": {"embed_links": []}, "children": [], "history": [{"content": "<p>安全性应该只是系统调用在ring 0可以访问特权指令&#xff0c;用户态不能吧&#xff0c;没有“谁更安全”这一说</p>", "anon": "no", "created": "2018-03-06T05:30:52Z", "uid": "im0vq5pac4t1xa", "subject": ""}]}], "nr": 1142, "bucket_order": 2, "type": "question", "folders": ["lecture3"], "no_answer_followup": 1, "num_favorites": 0, "bucket_name": "Today", "q_edits": [], "data": {"embed_links": []}, "request_instructor": 0, "tags": ["lecture3", "student"], "created": "2018-03-06T01:36:39Z", "is_tag_good": false, "config": {}, "s_edits": [], "my_favorite": false, "default_anonymity": "no", "t": 1520317461278, "tag_good": [], "tag_good_arr": [], "history": [{"content": "<p>汇编指令的区别&#xff1a;</p>\n<p>系统调用&#xff1a;使用INT和IRET指令</p>\n<p>函数调用&#xff1a;使用CALL和RET指令</p>\n<p></p>\n<p>安全性的区别&#xff1a;<br />系统调用有堆栈和特权级的转换过程&#xff0c;函数调用没有这样的过程&#xff0c;系统调用相对更为安全</p>\n<p></p>\n<p>性能的区别&#xff1a;</p>\n<p>时间角度&#xff1a;</p>\n<p>系统调用比函数调用要做更多和特权级切换的工作&#xff0c;所以需要更多的时间开销。系统调用需要的额外开销有&#xff1a;引导机制&#xff0c;建立内核栈&#xff0c;验证参数&#xff0c;更新页面映射权限&#xff0c;设置内核态独立地址空间&#xff08;如TLB等&#xff09;等</p>\n<p>空间角度&#xff1a;</p>\n<p>在一些情况下&#xff0c;如果函数调用采用静态编译&#xff0c;往往需要大量的空间开销&#xff0c;此时系统调用更具有优势</p>\n<p></p>\n<p>系统调用和函数调用之间的界限并不是泾渭分明的&#xff1a;</p>\n<p>在Dos系统中可以直接使用Call指令来调用外部中断</p>\n<p>在X86中也可以直接通过系统调用来控制一个门&#xff0c;但是手册上并不建议这样做</p>\n<p></p>\n<p></p>", "anon": "no", "created": "2018-03-06T02:46:24Z", "uid": "isu0wqaoff5125", "subject": "2018年3月6日操作系统课程关于系统调用和函数调用的讨论"}, {"content": "<p>汇编指令的区别&#xff1a;</p>\n<p>系统调用&#xff1a;使用INT和IRET指令</p>\n<p>函数调用&#xff1a;使用CALL和RET指令</p>\n<p></p>\n<p>安全性的区别&#xff1a;<br />系统调用有堆栈和特权级的转换过程&#xff0c;函数调用没有这样的过程&#xff0c;系统调用相对更为安全</p>\n<p></p>\n<p>性能的区别&#xff1a;</p>\n<p>时间角度&#xff1a;</p>\n<p>系统调用比函数调用要做更多和特权级切换的工作&#xff0c;所以需要更多的时间开销。系统调用需要的额外开销有&#xff1a;引导机制&#xff0c;建立内核堆栈&#xff0c;验证参数&#xff0c;更新页面映射权限&#xff0c;设置内核态独立地址空间&#xff08;如TLB等&#xff09;等</p>\n<p>空间角度&#xff1a;</p>\n<p>在一些情况下&#xff0c;如果函数调用采用静态编译&#xff0c;往往需要大量的空间开销&#xff0c;此时系统调用更具有优势</p>\n<p></p>\n<p>系统调用和函数调用之间的界限并不是泾渭分明的&#xff1a;</p>\n<p>在Dos系统中可以直接使用Call指令来调用外部中断</p>\n<p>在X86中也可以直接通过系统调用来控制一个门&#xff0c;但是手册上并不建议这样做</p>\n<p></p>\n<p></p>", "anon": "no", "created": "2018-03-06T01:36:39Z", "uid": "isvxeq6bspf1vn", "subject": "2018年3月6日操作系统课程关于系统调用和函数调用的讨论"}]}, "error": null}