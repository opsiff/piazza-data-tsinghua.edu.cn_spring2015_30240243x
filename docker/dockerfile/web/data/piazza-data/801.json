{"aid": "ineqekd7nge167", "result": {"folders": ["lab6"], "unique_views": 79, "no_answer": 0, "change_log": [{"data": "in17k2kipbm73l", "anon": "no", "when": "2016-04-15T04:21:47Z", "uid": "il7co2fpfTV", "type": "create"}, {"uid": "i0f3rp5o38h4mk", "data": "in1xj0ie3vl5iz", "when": "2016-04-15T16:28:48Z", "to": "in17k2kf3g373i", "anon": "no", "type": "s_answer"}, {"to": "in17k2kf3g373i", "anon": "no", "when": "2016-04-16T04:11:55Z", "uid": "il7co2fpfTV", "type": "followup"}, {"to": "in17k2kf3g373i", "anon": "no", "when": "2016-04-23T07:35:29Z", "uid": "i0nuu5yhgno5tv", "type": "feedback"}, {"to": "in17k2kf3g373i", "anon": "no", "when": "2016-04-24T03:09:07Z", "uid": "i0ccfx63sir1e", "type": "followup"}], "upvote_ids": [], "id": "in17k2kf3g373i", "bookmarked": 6, "no_answer_followup": 2, "i_edits": [], "is_bookmarked": false, "children": [{"folders": [], "is_tag_endorse": false, "created": "2016-04-15T16:28:48Z", "config": {}, "tag_endorse_arr": ["il7co2fpfTV", "i0f24oie8102cr", "i0ccfx63sir1e"], "children": [], "bucket_name": "Today", "type": "s_answer", "tag_endorse": [{"name": "ShengjiaZhao", "admin": false, "photo": null, "us": false, "email": "zhaosj12@mails.tsinghua.edu.cn", "role": "student", "facebook_id": null, "id": "il7co2fpfTV"}, {"name": "叶子鹏", "admin": false, "photo": null, "us": false, "email": "775193759@qq.com", "class_sections": ["清华学生_i5j09fnsl7k5x0"], "role": "student", "facebook_id": null, "id": "i0f24oie8102cr"}, {"name": "Liu Xiaohong", "admin": false, "photo": null, "us": false, "email": "lxhlxhlxh555@gmail.com", "class_sections": ["清华学生_i5j09fnsl7k5x0"], "role": "student", "facebook_id": null, "id": "i0ccfx63sir1e"}], "bucket_order": 2, "data": {"embed_links": []}, "id": "in1xj0ibzu65iy", "history": [{"content": "<p>&#39;init check memory pass.&#39;在proc.c里&#xff1a;<br /></p>\n<pre> cprintf(&#34;all user-mode processes have quit.\\n&#34;);<br /> assert(initproc-&gt;cptr == NULL &amp;&amp; initproc-&gt;yptr == NULL &amp;&amp; initproc-&gt;optr == NULL);<br /> assert(nr_process == 2);<br /> assert(list_next(&amp;proc_list) == &amp;(initproc-&gt;list_link));<br /> assert(list_prev(&amp;proc_list) == &amp;(initproc-&gt;list_link));<br /> cprintf(&#34;init check memory pass.\\n&#34;);</pre>\n<p>鉴于没有提示missing &#39;all user-mode processes have quit.&#39;&#xff0c;所以只需一个个注释掉列在这里的这些assert就能知道是哪里错了。</p>\n<p></p>\n<p>此外&#xff0c;可以通过修改user_main来运行不同的用户程序&#xff0c;方便使用&#34;make qemu&#34;直接查看运行结果&#xff1a;</p>\n<pre>static int<br />user_main(void *arg) {<br />    KERNEL_EXECVE(spin);<br />    panic(&#34;user_main execve failed.\\n&#34;);<br />}</pre>\n<p></p>\n<p>另外在print_ticks中&#xff0c;下文注释处会导致任何触发了时钟中断的用户进程(spin/waitkill)无法通过&#xff0c;我的做法是暂时将其注释掉或者索性不输出ticks</p>\n<pre>static void print_ticks() {<br />    cprintf(&#34;%d ticks\\n&#34;,TICK_NUM);<br />#ifdef DEBUG_GRADE<br />    cprintf(&#34;End of Test.\\n&#34;);<br />    //panic(&#34;EOT: kernel seems ok.&#34;);<br />#endif<br />}</pre>\n<p></p>", "anon": "no", "subject": "", "uid": "i0f3rp5o38h4mk", "created": "2016-04-15T16:28:48Z"}]}, {"folders": [], "updated": "2016-04-16T04:11:55Z", "no_upvotes": 0, "uid": "il7co2fpfTV", "created": "2016-04-16T04:11:55Z", "type": "followup", "no_answer": 1, "id": "in2mn8i82hc5gl", "anon": "no", "bucket_name": "Week 4/10 - 4/16", "config": {}, "bucket_order": 7, "data": null, "children": [{"folders": [], "updated": "2016-04-23T07:35:29Z", "uid": "i0nuu5yhgno5tv", "created": "2016-04-23T07:35:29Z", "type": "feedback", "d-bucket": "Yesterday", "id": "inctzzreuhq4nd", "anon": "no", "bucket_name": "Yesterday", "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p></p>"}], "subject": "<p>多谢&#xff0c;我大概知道哪里出了问题了。评测的时候似乎对stdout输出非常敏感&#xff0c;所以如果make grade过不了可以试一试删掉自己在debug时候加的所有输出。另外lab6容易莫名其妙丢掉两个page&#xff0c;还没有仔细看不知道为什么</p>"}, {"folders": [], "updated": "2016-04-24T03:09:07Z", "no_upvotes": 0, "uid": "i0ccfx63sir1e", "created": "2016-04-24T03:09:07Z", "type": "followup", "no_answer": 1, "id": "indzxajhncj40z", "anon": "no", "bucket_name": "Today", "config": {}, "bucket_order": 2, "data": null, "children": [], "subject": "<p>ucore的makefile里提供了一个比较方便的调试单个用户程序的方法&#xff1a;</p>\n<pre>make run-%</pre>\n<p></p>\n<p>例如测试matrix程序&#xff1a;</p>\n<pre>make run-matrix</pre>\n<p></p>\n<p>了解ucore的makefile提供的工具&#xff1a;</p>\n<p>输入&#34;make &#34;后&#xff0c;双击tab键</p>\n<pre>$ make <br />build-%     debug-nox   handin      print-%     qemu-nox    TARGETS\nclean       dist-clean  Makefile    qemu        run-%       touch\ndebug       grade       packall     qemu-mon    run-nox-%   </pre>"}], "request_instructor_me": false, "nr": 801, "bucket_order": 2, "config": {}, "status": "active", "tags": ["lab6", "student"], "num_favorites": 0, "bucket_name": "Today", "q_edits": [], "data": {"embed_links": []}, "request_instructor": 0, "created": "2016-04-15T04:21:47Z", "is_tag_good": false, "type": "question", "s_edits": [], "my_favorite": false, "default_anonymity": "no", "t": 1461511823515, "tag_good": [], "tag_good_arr": [], "history": [{"content": "<p>labcodes_answers里面的答案同样不能通过make grade&#xff0c;提示相似的错误。以下为输出的一部分</p>\n<p>forktree: (1.7s)<br /> -check result: WRONG<br /> -e !! error: missing &#39;init check memory pass.&#39;</p>\n<p>-check output: OK</p>", "anon": "no", "subject": "lab6测试不能通过提示missing &#39;init check memory pass‘", "uid": "il7co2fpfTV", "created": "2016-04-15T04:21:47Z"}]}, "error": null}