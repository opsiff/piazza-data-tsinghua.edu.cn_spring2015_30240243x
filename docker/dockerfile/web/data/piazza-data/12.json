{"aid": "igkove893um2pn", "error": null, "result": {"default_anonymity": "no", "status": "active", "i_edits": [], "q_edits": [], "bookmarked": 3, "request_instructor": 0, "history": [{"uid": "i6ry1ln7xRU", "anon": "no", "created": "2015-03-02T18:08:44Z", "content": "<p> 在qemu 联合gdb的调试中&#xff0c;看了网上资料还有实验手册&#xff0c;在一个终端里我用make qemu这是qemu开启&#xff0c;但是在第二的终端里 我应该gdb &#xff1f;呢 我尝试了 bin目录下的所有文件 但是都是无法 用gdb 。 </p>", "subject": "qemu 和 gdb联合调试 gdb 该调试哪个文件"}], "s_edits": [], "is_bookmarked": false, "tag_good_arr": ["i6vgn93glrq25f"], "request_instructor_me": false, "my_favorite": false, "t": 1446634570185, "children": [{"uid": "i6ry30g7v1z", "no_answer": 0, "created": "2015-03-02T23:56:43Z", "id": "i6sizs4aoce2fq", "updated": "2015-03-02T23:56:43Z", "subject": "<p>make debug</p>\n<p>然后新建一个终端</p>\n<p>输入gdb</p>\n<p></p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "no_upvotes": 0, "children": [{"uid": "hdjoucuyb836fq", "created": "2015-03-03T00:40:46Z", "id": "i6skkfzt1g221", "updated": "2015-03-03T00:40:46Z", "subject": "<p>make debug运行2s后会有一个终端蹦出来执行gdb。</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}, {"uid": "i6ry30g7v1z", "created": "2015-03-03T01:00:34Z", "id": "i6sl9w45ncq6vy", "updated": "2015-03-03T01:00:34Z", "subject": "<p>汗&#xff0c;没测试ucore的&#xff0c;也没看makefile </p>\n<p>是根据以前的经验来说的 记得xv6 JOS应该是手动吧</p>\n<p>看了下ucore的makefile</p>\n<pre>debug: $(UCOREIMG)<br /> $(V)$(QEMU) -S -s -parallel stdio -hda $&lt; -serial null &amp;<br /> $(V)sleep 2<br /> $(V)$(TERMINAL)  -e &#34;cgdb -q -x tools/gdbinit&#34;</pre>\n<p>以后不清楚的不乱回答了&#xff0c;以免误人。</p>", "anon": "no", "folders": [], "config": {}, "data": {"embed_links": null}, "bucket_order": 4, "bucket_name": "This week", "children": [], "type": "feedback"}], "type": "followup"}, {"is_tag_endorse": false, "created": "2015-03-03T00:39:02Z", "id": "i6ski7nisrr6c4", "tag_endorse": [], "folders": [], "history": [{"uid": "hdjoucuyb836fq", "anon": "no", "created": "2015-03-03T00:39:02Z", "content": "<p>ucore lab的Makefile中有运行调试的目标&#xff0c;可以直接执行make debug-nox&#xff0c;当前窗口会显示qemu的输出&#xff0c;2s后会打开一个新的终端并启动gdb。</p>\n<p></p>\n<p>如果要手工执行gdb&#xff0c;在第二个终端里的命令为gdb -q -x tools/gdbinit&#xff0c;其中-q禁止gdb在启动时输出版权信息&#xff0c;-x tools/gdbinit让gdb在启动后执行tools/gdbinit里的命令&#xff0c;tools/gdbinit中包含加载ELF调试信息、连接remote target等基本操作。</p>\n<p></p>\n<p>用gdb调试时&#xff0c;gdb需要目标程序的调试信息来确定函数地址、局部变量信息等&#xff0c;而调试信息是附在被调试的ELF文件中的。对于lab1中生成的bin目录&#xff1a;</p>\n<pre>[mjj&#64;mjj-server bin]$ for i in *; do file $i; done\nbootblock: x86 boot sector\nkernel: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), statically linked, not stripped\nsign: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.32, BuildID[sha1]=f1335194f5f92af0f003373df32ff164095596a8, not stripped\nucore.img: x86 boot sector</pre>\n<p>可以看到&#xff0c;bootblock和ucore.img是包含引导扇区的镜像&#xff0c;sign是64位ELF文件&#xff0c;只有kernel是32位的ELF文件&#xff0c;因此需要加载的文件是bin/kernel。bin/kernel的具体生成步骤请参考Makefile。</p>", "subject": ""}], "config": {}, "data": {"embed_links": []}, "bucket_order": 2, "bucket_name": "Today", "tag_endorse_arr": [], "children": [], "type": "i_answer"}], "type": "question", "unique_views": 166, "created": "2015-03-02T18:08:44Z", "id": "i6s6ka2zkz71as", "no_answer": 0, "nr": 12, "data": {"embed_links": []}, "upvote_ids": [], "is_tag_good": false, "config": {}, "folders": ["lab1"], "bucket_order": 2, "change_log": [{"uid": "i6ry1ln7xRU", "when": "2015-03-02T18:08:44Z", "data": "i6s6ka4ktsg1at", "anon": "no", "type": "create"}, {"uid": "i6ry30g7v1z", "when": "2015-03-02T23:56:43Z", "to": "i6s6ka2zkz71as", "anon": "no", "type": "followup"}, {"uid": "hdjoucuyb836fq", "when": "2015-03-03T00:39:02Z", "data": "i6ski7nls776c5", "to": "i6s6ka2zkz71as", "anon": "no", "type": "i_answer"}, {"uid": "hdjoucuyb836fq", "when": "2015-03-03T00:40:46Z", "to": "i6s6ka2zkz71as", "anon": "no", "type": "feedback"}, {"uid": "i6ry30g7v1z", "when": "2015-03-03T01:00:34Z", "to": "i6s6ka2zkz71as", "anon": "no", "type": "feedback"}], "bucket_name": "Today", "tags": ["lab1", "student"], "no_answer_followup": 0, "num_favorites": 0, "tag_good": [{"name": "Yinxu Pan", "id": "i6vgn93glrq25f", "role": "student", "facebook_id": null, "photo": null, "admin": false, "us": false}]}}