{"aid": "j2pqm14k5k21yd", "result": {"status": "active", "unique_views": 14, "request_instructor_me": false, "change_log": [{"type": "create", "anon": "full", "when": "2017-05-13T08:48:17Z", "data": "j2n14kmai8th6"}, {"to": "j2n14km8v3sh5", "anon": "no", "when": "2017-05-13T08:58:42Z", "type": "followup", "uid": "hdjonbiyfs62ie"}, {"type": "update", "anon": "full", "when": "2017-05-13T09:47:08Z", "data": "j2n388x9oue5it"}, {"to": "j2n14km8v3sh5", "anon": "no", "when": "2017-05-13T14:23:51Z", "type": "feedback", "uid": "hdjonbiyfs62ie"}, {"type": "update", "anon": "no", "when": "2017-05-13T14:24:08Z", "data": "j2nd4h8bd371gf", "uid": "hdjonbiyfs62ie"}, {"to": "j2n14km8v3sh5", "anon": "no", "when": "2017-05-13T14:25:13Z", "type": "feedback", "uid": "hdjonbiyfs62ie"}, {"type": "update", "anon": "full", "when": "2017-05-14T14:20:12Z", "data": "j2osf9w3xh0ej"}], "upvote_ids": [], "id": "j2n14km8v3sh5", "bookmarked": 2, "tags": ["2017", "lecture18", "student"], "i_edits": [], "is_bookmarked": false, "children": [{"folders": [], "updated": "2017-05-13T08:58:42Z", "no_upvotes": 0, "uid": "hdjonbiyfs62ie", "created": "2017-05-13T08:58:42Z", "type": "followup", "no_answer": 0, "id": "j2n1hyv1lbr6j7", "anon": "no", "bucket_name": "Last week", "config": {}, "bucket_order": 5, "data": null, "children": [{"folders": [], "updated": "2017-05-13T14:23:51Z", "uid": "hdjonbiyfs62ie", "created": "2017-05-13T14:23:51Z", "type": "feedback", "d-bucket": "Yesterday", "id": "j2nd443tzl411s", "anon": "no", "bucket_name": "Yesterday", "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p>这是一个同学匿名提的问题&#xff0c;随后又自己删除了。但我认为这个同步互斥问题也还是很有意思的。于是又把它公布出来&#xff0c;供有兴趣的同学参考。</p>\n<p></p>\n<p>另外&#xff0c;我也建议这里讨论的问题应该是可以被公开的和较长时间保存的。这可以方便后面学这门的同学。</p>"}, {"folders": [], "updated": "2017-05-13T14:25:13Z", "uid": "hdjonbiyfs62ie", "created": "2017-05-13T14:25:13Z", "type": "feedback", "d-bucket": "Yesterday", "id": "j2nd5v67sfp49w", "anon": "no", "bucket_name": "Yesterday", "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p>招聘问题</p>\n<p><br />现有100名毕业生去甲、乙两公司求职&#xff0c;两公司合用一间接待室&#xff0c;其中甲公司招 收10 人&#xff0c;乙公司准备招收10人&#xff0c;招完为止。两公司各有一位人事主管在接待毕业生&#xff0c; 每位人事主管每次只可接待一人&#xff0c;其他毕业生在接待室外排成一个队伍等待。试用信 号量和P 、V 操作实现人员招聘过程。</p>\n<p>由于毕业生仅排成一队&#xff0c;故用如图的一个队列数据结构表示。在队列中不含甲、乙公司.</p>\n<p>A B A A B Sm<br />A B Sn<br />B A ...</p>\n<p>都接待过的毕业生和己被录用的毕业生。只含标识为A &#xff08;被甲接待过&#xff09;或只含标识为B &#xff08;被乙接待过&#xff09;及无标识的毕业生队列。此外&#xff0c;sm 和Sn 分别为队列中甲、乙正在面试的毕业生i ( i = 1 , 2 &#xff0c;…&#xff0c;100 &#xff09;标识、即此刻另一方不得面试该毕业生i 。K1和K2 为甲、乙所录取的毕业生数&#xff0c;C1 、C2 为互斥信号量。注意&#xff0c;如果甲录取了一人&#xff0c;且该生没有被乙面试的话&#xff0c;则乙面试的毕业生将减1 。办法是&#xff1a;如果甲录取了一人&#xff0c;且该生没有被乙面试可把乙的面试计数器C2加1 &#xff08;相当于乙己面试了他&#xff09;&#xff0c;从而&#xff0c;保证乙面试的人数值为100 。反之对甲亦然。</p>\n<p></p>\n<pre>var Sa,Sb,mutex:semaphore;\nSa:=Sb:=mnutex:=1;\nC1,C2,K1,K2&#xff1a;integer;\nC1:=C2:=K1:=K2:=0;\ncobegin\nprocess 甲公司\nbegin\nL1: P(mutex);\nP(Sa);\nC1:==C1&#43;1 ;\nV(Sa);\nIf C1≤100 then\n&#xff5b;\n从标识为B 且不为Sn 或\n无标识的毕业生队列中选\n第i 个学生&#xff0c;将学生i 标\n识为A 和Sm\n&#xff5d;\nV(mutex) ;\n面试&#xff1b;\nP(mutex);\nif 合格then\n{ K1:=K1&#43;1;\nif 学生i 的标识不含B then\n{\nP (Sb);\nC2:=C2&#43;1;\nV(Sb);\n将学生i 从队列摘除&#xff1b;\n}\nelse 将学生i 从队列摘除&#xff1b;\n} else if 学生i 的标识含B then\n将学生i 从队列摘除;\nelse\n取消学生i 的Sm 标识&#xff1b;\nV(mutex);\nIf(K1&lt;10)&amp;(C2&lt;100) then\ngoto L1;\nend\nprocess 乙公司\nbegin\nL2:P(mutex);\nP(Sb);\nC2:=C2&#43;1;\nV(Sb);\nif C2≤100 then\n从标识为A 且不为sm 或无标识的\n毕业生队列中选第i个学生将学生i\n标识为B和Sn\nV(mutex);\n面试&#xff1b;\nP(mutex);\nif 合格then\n{ K2:=K2&#43;1;\nif 学生i 的标识不含A then\n{ P(Sa)\nC1:=C1&#43;1;\nV(Sa);\n将学生i 从队列摘除&#xff1b;\n} else 将学生i 从队列摘除&#xff1b;\n} else if 学生i 的标识含A then\n将学生i 从队列摘除&#xff1b;\nelse\n取消学生i 的Sn 标识&#xff1b;\nV(mutex);\nif(K2&lt;10)&amp;(c1&lt;100&#xff09;then\ngoto L2;\nend coend</pre>\n<p></p>"}], "subject": "<p>建议参见梁锡豪同学的例子&#xff0c;改进实现成可运行的程序&#xff0c;并提供测试用例。</p>\n<p></p>\n<p><a href=\"https://www.piazza.com/class/i5j09fnsl7k5x0?cid=391\">https://piazza.com/class/i5j09fnsl7k5x0?cid=391</a></p>\n<p></p>"}], "nr": 1076, "bucket_order": 2, "type": "note", "folders": ["lecture18", "2017"], "no_answer_followup": 0, "num_favorites": 0, "bucket_name": "Today", "q_edits": [], "data": {"embed_links": []}, "request_instructor": 0, "created": "2017-05-13T08:48:17Z", "is_tag_good": false, "config": {"anon_group": 1}, "s_edits": [], "my_favorite": false, "default_anonymity": "no", "t": 1494829034804, "tag_good": [{"name": "Yong XIANG", "admin": true, "photo": null, "us": false, "id": "hdjonbiyfs62ie", "class_sections": ["课程设计_i5j09fnsl7k5x0", "清华学生_i5j09fnsl7k5x0", "所有老师和助教_i5j09fnsl7k5x0"], "role": "instructor", "facebook_id": null, "email": "xyong@tsinghua.edu.cn", "admin_permission": 10}], "tag_good_arr": ["hdjonbiyfs62ie"], "history": [{"content": "现有100名毕业生去甲、乙两公司求职&#xff0c;两公司合用一间接待室&#xff0c;其中甲公司招 收10 人&#xff0c;乙公司准备招收10人&#xff0c;招完为止。两公司各有一位人事主管在接待毕业生&#xff0c; 每位人事主管每次只可接待一人&#xff0c;其他毕业生在接待室外排成一个队伍等待。试用信 号量和P 、V 操作实现人员招聘过程。\n由于毕业生仅排成一队&#xff0c;故用如图的一个队列数据结构表示。在队列中不含甲、乙公司.\nA B A A B Sm\nA B Sn\nB A ...\n都接待过的毕业生和己被录用的毕业生。只含标识为A &#xff08;被甲接待过&#xff09;或只含标识为B &#xff08;被乙接待过&#xff09;及无标识的毕业生队列。此外&#xff0c;sm 和Sn 分别为队列中甲、乙正在面试的毕业生i ( i = 1 , 2 &#xff0c;…&#xff0c;100 &#xff09;标识、即此刻另一方不得面试该毕业生i 。K1和K2 为甲、乙所录取的毕业生数&#xff0c;C1 、C2 为互斥信号量。注意&#xff0c;如果甲录取了一人&#xff0c;且该生没有被乙面试的话&#xff0c;则乙面试的毕业生将减1 。办法是&#xff1a;如果甲录取了一人&#xff0c;且该生没有被乙面试可把乙的面试计数器C2加1 &#xff08;相当于乙己面试了他&#xff09;&#xff0c;从而&#xff0c;保证乙面试的人数值为100 。反之对甲亦然。\n var Sa,Sb,mutex:semaphore;\nSa:=Sb:=mnutex:=1;\nC1,C2,K1,K2&#xff1a;integer;\nC1:=C2:=K1:=K2:=0;\ncobegin\nprocess 甲公司\nbegin\nL1: P(mutex);\nP(Sa);\nC1:==C1&#43;1 ;\nV(Sa);\nIf C1≤100 then\n&#xff5b;\n从标识为B 且不为Sn 或\n无标识的毕业生队列中选\n第i 个学生&#xff0c;将学生i 标\n识为A 和Sm\n&#xff5d;\nV(mutex) ;\n面试&#xff1b;\nP(mutex);\nif 合格then\n{ K1:=K1&#43;1;\nif 学生i 的标识不含B then\n{\nP (Sb);\nC2:=C2&#43;1;\nV(Sb);\n将学生i 从队列摘除&#xff1b;\n}\nelse 将学生i 从队列摘除&#xff1b;\n} else if 学生i 的标识含B then\n将学生i 从队列摘除;\nelse\n取消学生i 的Sm 标识&#xff1b;\nV(mutex);\nIf(K1&lt;10)&amp;(C2&lt;100) then\ngoto L1;\nend\nprocess 乙公司\nbegin\nL2:P(mutex);\nP(Sb);\nC2:=C2&#43;1;\nV(Sb);\nif C2≤100 then\n从标识为A 且不为sm 或无标识的\n毕业生队列中选第i个学生将学生i\n标识为B和Sn\nV(mutex);\n面试&#xff1b;\nP(mutex);\nif 合格then\n{ K2:=K2&#43;1;\nif 学生i 的标识不含A then\n{ P(Sa)\nC1:=C1&#43;1;\nV(Sa);\n将学生i 从队列摘除&#xff1b;\n} else 将学生i 从队列摘除&#xff1b;\n} else if 学生i 的标识含A then\n将学生i 从队列摘除&#xff1b;\nelse\n取消学生i 的Sn 标识&#xff1b;\nV(mutex);\nif(K2&lt;10)&amp;(c1&lt;100&#xff09;then\ngoto L2;\nend coend", "anon": "full", "created": "2017-05-14T14:20:12Z", "subject": "招聘问题"}, {"content": "<p>没问题了……</p>", "anon": "no", "created": "2017-05-13T14:24:08Z", "uid": "hdjonbiyfs62ie", "subject": "招聘问题"}, {"content": "没问题了……", "anon": "full", "created": "2017-05-13T09:47:08Z", "subject": "招聘问题"}, {"content": "现有100名毕业生去甲、乙两公司求职&#xff0c;两公司合用一间接待室&#xff0c;其中甲公司招 收10 人&#xff0c;乙公司准备招收10人&#xff0c;招完为止。两公司各有一位人事主管在接待毕业生&#xff0c; 每位人事主管每次只可接待一人&#xff0c;其他毕业生在接待室外排成一个队伍等待。试用信 号量和P 、V 操作实现人员招聘过程。\n\n由于毕业生仅排成一队&#xff0c;故用如图的一个队列数据结构表示。在队列中不含甲、乙公司.\n\nA\tB\tA\tA\tB\tSm\nA\tB\tSn\nB\tA\t...\t \t \t \n\n都接待过的毕业生和己被录用的毕业生。只含标识为A &#xff08;被甲接待过&#xff09;或只含标识为B &#xff08;被乙接待过&#xff09;及无标识的毕业生队列。此外&#xff0c;sm 和Sn 分别为队列中甲、乙正在面试的毕业生i ( i = 1 , 2 &#xff0c;…&#xff0c;100 &#xff09;标识、即此刻另一方不得面试该毕业生i 。K1和K2 为甲、乙所录取的毕业生数&#xff0c;C1 、C2 为互斥信号量。注意&#xff0c;如果甲录取了一人&#xff0c;且该生没有被乙面试的话&#xff0c;则乙面试的毕业生将减1 。办法是&#xff1a;如果甲录取了一人&#xff0c;且该生没有被乙面试可把乙的面试计数器C2加1 &#xff08;相当于乙己面试了他&#xff09;&#xff0c;从而&#xff0c;保证乙面试的人数值为100 。反之对甲亦然。\n\nvar Sa,Sb,mutex:semaphore;\nSa:=Sb:=mnutex:=1;\nC1,C2,K1,K2&#xff1a;integer;\nC1:=C2:=K1:=K2:=0;\ncobegin\n\tprocess 甲公司\n\t\tbegin\n\t\tL1: P(mutex);\n\t\tP(Sa);\n\t\tC1:==C1&#43;1 ;\n\t\tV(Sa);\n\t\tIf C1≤100 then\n\t\t&#xff5b;\n\t\t\t从标识为B 且不为Sn 或\n\t\t\t无标识的毕业生队列中选\n\t\t\t第i 个学生&#xff0c;将学生i 标\n\t\t\t识为A 和Sm\n\t\t&#xff5d;\n\t\tV(mutex) ;\n\t\t面试&#xff1b;\n\t\tP(mutex);\n\t\tif 合格then\n{\n\t\t\tK1:=K1&#43;1;\n\t\t\tif 学生i 的标识不含B then\n\t\t\t{\n\t\t\t\tP (Sb);\n\t\t\t\tC2:=C2&#43;1;\n\t\t\t\tV(Sb);\n\t\t\t\t将学生i 从队列摘除&#xff1b;\n\t\t\t}\n\t\t\telse 将学生i 从队列摘除&#xff1b;\n\t\t}\n\t\telse if 学生i 的标识含B then\n\t\t\t\t将学生i 从队列摘除;\n\t\t\telse\n\t\t\t\t取消学生i 的Sm 标识&#xff1b;\n\t\tV(mutex);\n\t\tIf(K1&lt;10)&amp;(C2&lt;100) then\n\t\t\tgoto L1;\nend\n\nprocess 乙公司\nbegin\n\tL2:P(mutex);\n\tP(Sb);\n\tC2:=C2&#43;1;\n\tV(Sb);\n\tif C2≤100 then\n\t\t从标识为A 且不为sm 或无标识的\n\t\t毕业生队列中选第i个学生将学生i\n\t\t标识为B和Sn\n\tV(mutex);\n\t面试&#xff1b;\n\tP(mutex);\n\tif 合格then\n\t{\n\t\tK2:=K2&#43;1;\n\t\tif 学生i 的标识不含A then\n\t\t{\n\t\tP(Sa)\n\t\tC1:=C1&#43;1;\n\t\tV(Sa);\n\t\t将学生i 从队列摘除&#xff1b;\n\t\t}\n\t\telse 将学生i 从队列摘除&#xff1b;\n\t}\n\telse if 学生i 的标识含A then\n\t\t\t将学生i 从队列摘除&#xff1b;\n\t\telse\n\t\t\t取消学生i 的Sn 标识&#xff1b;\n\tV(mutex);\n\tif(K2&lt;10)&amp;(c1&lt;100&#xff09;then\n\t\tgoto L2;\nend\ncoend", "anon": "full", "created": "2017-05-13T08:48:17Z", "subject": "招聘问题"}]}, "error": null}