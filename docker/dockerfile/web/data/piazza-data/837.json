{"aid": "inlvm5xkvdm7kd", "result": {"folders": ["lab5"], "unique_views": 47, "no_answer": 0, "change_log": [{"data": "ini8beyhpj83yv", "anon": "no", "when": "2016-04-27T02:15:08Z", "uid": "im5xso4yv3Q", "type": "create"}, {"uid": "i76z9sx78G8", "data": "inl22ot9i8d57z", "when": "2016-04-29T01:43:41Z", "to": "ini8beyfuvl3yu", "anon": "no", "type": "i_answer"}], "upvote_ids": [], "id": "ini8beyfuvl3yu", "bookmarked": 4, "no_answer_followup": 0, "i_edits": [], "is_bookmarked": false, "children": [{"folders": [], "is_tag_endorse": false, "created": "2016-04-29T01:43:41Z", "config": {}, "tag_endorse_arr": [], "children": [], "bucket_name": "Today", "type": "i_answer", "tag_endorse": [], "bucket_order": 2, "data": {"embed_links": []}, "id": "inl22ot6iuz57y", "history": [{"content": "<p>空操作是在第一个进程完成初始化之前的情况。</p>\n<p>对current的tf进行保存&#xff0c;然后处理当前的tf。这种情况发生在nesting interrupt.</p>", "anon": "no", "subject": "", "uid": "i76z9sx78G8", "created": "2016-04-29T01:43:41Z"}]}], "request_instructor_me": false, "nr": 837, "bucket_order": 2, "config": {}, "status": "active", "tags": ["lab5", "student"], "num_favorites": 0, "bucket_name": "Today", "q_edits": [], "data": {"embed_links": []}, "request_instructor": 0, "created": "2016-04-27T02:15:08Z", "is_tag_good": false, "type": "question", "s_edits": [], "my_favorite": false, "default_anonymity": "no", "t": 1461943839368, "tag_good": [], "tag_good_arr": [], "history": [{"content": "<p>void trap(struct trapframe *tf)</p>\n<p>{</p>\n<p>// dispatch based on what type of trap occurred</p>\n<p>// used for previous projects</p>\n<p>          if (current == NULL)  //这个为空操作为了处理哪一种中断请求</p>\n<p>          {</p>\n<p>                  trap_dispatch(tf);</p>\n<p>           } else</p>\n<p>           {</p>\n<p>           // keep a trapframe chain in stack</p>\n<p>           struct trapframe *otf = current-&gt;tf;   //这里保存current-&gt;tf 是什么作用&#xff1f;&#xff1f;&#xff1f;&#xff1f;</p>\n<p>            current-&gt;tf = tf;             //这里让current-&gt;tf指向tf有什么作用&#xff1f;&#xff1f;&#xff1f;&#xff1f;</p>\n<p>            bool in_kernel = trap_in_kernel(tf);                </p>\n<p>            trap_dispatch(tf);</p>\n<p>            current-&gt;tf = otf;    //这里进行恢复操又有什么作用&#xff1f;&#xff1f; 如果嵌套中断&#xff0c;这里有什么怎样的作用&#xff0c;没有分析出析。望解答</p>\n<p>             if (!in_kernel)</p>\n<p>             {</p>\n<p>                  if (current-&gt;flags &amp; PF_EXITING)   //这里是当前进程被杀掉&#xff0c;那么就直接回收 &#xff0c;为的kill调用</p>\n<p>                  {</p>\n<p>                       do_exit(-E_KILLED);</p>\n<p>                   }</p>\n<p>                   if (current-&gt;need_resched)   //这个是为了 yield的凋用</p>\n<p>                   {</p>\n<p>                        schedule();</p>\n<p>                    }</p>\n<p>              }</p>\n<p>            }</p>\n<p>}</p>", "anon": "no", "subject": "lab trap实现里有两个分支有什么含意", "uid": "im5xso4yv3Q", "created": "2016-04-27T02:15:08Z"}]}, "error": null}